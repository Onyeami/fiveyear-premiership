<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="premier league in the last five years">
        <meta name="keywords" content="English Premier League, football">
        <meta name="author" content="Charles Onye">
        <title>Premier League Quiz</title>

        <style>
            body {
                font-size: 20px;
                font-family: "Work Sans", sans-serif;
                color: #333;
                font-weight: 300;
                text-align: center;
                background-color: #f8f6f0;
            }
            h1 {
                font-weight: 300;
                margin: 0px;
                padding: 10px;
                font-size: 20px;
                background-color: #444;
                color: #fff;
            }

            .question {
                font-size: 30px;
                margin-bottom: 10px;
            }

            .answers {
                margin-bottom: 20px;
                text-align: left;
                display: inline-block;
            }

            .answers label {
                display: block;
                margin-bottom: 10px;
            }

            button {
                font-family: "Work Sans", sans-serif;
                font-size: 22px;
                background-color: #279;
                color: #fff;
                border: 0px;
                border-radius: 3px;
                padding: 20px;
                cursor: pointer;
                margin-bottom: 20px;
            }

            button:hover {
                background-color: #38a;
            }

            .slide {
                position: absolute;
                left: 0px;
                top: 0px;
                width: 100%;
                z-index: 1;
                opacity: 0;
                transition: opacity 0.5s;
            }

            .active-slide {
                opacity: 1;
                z-index: 2;
            }

            .quiz-container {
            position: relative;
            height: 200px;
            margin-top: 40px;
            }
        </style>
    </head>
    <body>
    <h1>Premier League Quiz</h1>
    <div class="quiz-container">
      <div id="quiz"></div>
    </div>
    <button id="submitAnswer">Submit Answer</button>
    <button id="playAgain" style="display: none;">Play Again</button>
    <div id="results"></div>
    <div id="lives"></div>
    <div id="points"></div>
        
    <script>
        (function () {
            // Variables
            let lives = 3;
            let points = 0;
            let currentSlide = 0; // Define currentSlide here
            const quizContainer = document.getElementById('quiz');
            const resultsContainer = document.getElementById('results');
            const submitAnswerButton = document.getElementById('submitAnswer');
            const playAgainButton = document.getElementById('playAgain');
            const livesContainer = document.getElementById('lives');
            const pointsContainer = document.getElementById('points');

            function buildQuiz() {
                const output = [];

                myQuestions.forEach((currentQuestion, questionNumber) => {
                    const answers = [];

                    for (letter in currentQuestion.answers) {
                        answers.push(
                            `<label>
                          <input type="radio" name="question${questionNumber}" value="${letter}">
                          ${letter} :
                          ${currentQuestion.answers[letter]}
                        </label>`
                        );
                    }

                    output.push(
                        `<div class="slide">
                        <div class="question"> ${currentQuestion.question} </div>
                        <div class="answers"> ${answers.join("")} </div>
                      </div>`
                    );
                });

                quizContainer.innerHTML = output.join('');
            }


            const myQuestions = [
                {
                    question: "Who invented JavaScript?",
                    answers: {
                        a: "Douglas Crockford",
                        b: "Sheryl Sandberg",
                        c: "Brendan Eich"
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Which one of these is a JavaScript package manager?",
                    answers: {
                        a: "Node.js",
                        b: "TypeScript",
                        c: "npm"
                    },
                    correctAnswer: "c"
                },
                {
                    question: "Which tool can you use to ensure code quality?",
                    answers: {
                        a: "Angular",
                        b: "jQuery",
                        c: "RequireJS",
                        d: "ESLint"
                    },
                    correctAnswer: "d"
                }
            ];

            function showResults() {
                const answerContainers = quizContainer.querySelectorAll('.answers');
                const answerContainer = answerContainers[currentSlide];
                const selector = `input[name=question${currentSlide}]:checked`;
                const userAnswer = (answerContainer.querySelector(selector) || {}).value;
                const currentQuestion = myQuestions[currentSlide];

                if (userAnswer === currentQuestion.correctAnswer) {
                    points += 100;
                    resultsContainer.innerHTML = 'Correct!';
                } else {
                    lives--;
                    resultsContainer.innerHTML = 'Incorrect!';
                    if (lives === 0) {
                        quizContainer.innerHTML = 'Game Over!';
                        playAgainButton.style.display = 'block';
                        lives = 3; // Reset lives
                        points = 0; // Reset points
                    }
                }
                livesContainer.innerHTML = `Lives: ${lives}`;
                pointsContainer.innerHTML = `Points: ${points}`;

                showNextSlide(); // Move to the next question
            }

            function showSlide(n) {
                const slides = document.querySelectorAll(".slide");
                if (n >= slides.length) {
                    return; // If there are no more questions, do nothing
                }
                slides[currentSlide].classList.remove('active-slide');
                slides[n].classList.add('active-slide');
                currentSlide = n;
            }

            function showNextSlide() {
                showSlide(currentSlide + 1);
            }

            buildQuiz();
            showSlide(0); // Show the first slide

            submitAnswerButton.addEventListener('click', showResults);
            playAgainButton.addEventListener("click", function () {
                location.reload();
            });
        })();
    </script>
  </body>
</html>
